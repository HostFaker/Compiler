version: 2.1
jobs:
  compile:
   docker:
      - image: azrim89/kernel:latest
   steps:
      - run:
          command: |
            apt-get -y update && apt-get -y upgrade && apt-get -y install bc build-essential zip curl libstdc++6 git wget python gcc clang libssl-dev repo rsync flex bison
            git config --global user.name "fakeriz"
            git config --global user.email "hafizharrizqa15@gmail.com"
            git clone https://github.com/akhilnarang/scripts && cd scripts && bash setup/android_build_env.sh && cd ..
            git clone https://github.com/fakeriz/kernel_xiaomi_surya-1.git -b 10 --depth=1
            cd kernel_xiaomi_surya-1
            wget https://raw.githubusercontent.com/fakeriz/compiler/master/.circleci/bleed.sh
            source bleed.sh
workflows:
  version: 2.1
  cooking:
    jobs:
      - compile